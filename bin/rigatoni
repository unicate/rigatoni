#!/usr/bin/env php
<?php
/**
 * @author https://unicate.ch
 * @copyright Copyright (c) 2020
 * @license Released under the MIT license
 */

$filePath = [
    __DIR__ . '/../rigatoni.json',
    __DIR__ . '/../../rigatoni.json',
    __DIR__ . '/../composer.json',
    __DIR__ . '/../../composer.json'
];

foreach ($filePath as $file) {
    if (file_exists($file)) {
        putenv('RIGATONI_ROOT=' . dirname(realpath($file)));
        break;
    }
}
if (!getenv('RIGATONI_ROOT')){
    throw new \RuntimeException('Could not determine the project root directory. 
    You may need to set the environment variable RIGATONI_ROOT manually.');
    exit(1);
}
require_once __DIR__ . '/../vendor/autoload.php';
require_once __DIR__ . '/../src/core/Main.php';

